# Test sets use '@' as a column delimiter
# Header lines format: 'declare' or 'set' function tests
# 1st col: function call with input args, 2nd col: expected return code

# Further lines format is for 'get' function tests
# 1st col: 'get' function call with input args, 2nd col: expected value, 3rd col: expected return code

# this one is fairly chaotic but i tried to cover things that might be fragile


test_1="
[header]
declare_i_arr@1
declare_i_arr arr@0
[/header]

get_i_arr_el @@1
get_i_arr_el arr@@1
get_i_arr_el arr 0@@1
get_i_arr_el arr 0 val@@0
get_i_arr_el arr 1 val@@0
get_i_arr_el arr 2 val@@0
get_i_arr_el arr 1 2 val@@1
get_i_arr_el arr a val@@1
get_i_arr_el arr 1 a val@@1
get_i_arr_el arr a 1 val@@1
get_i_arr_values arr val@@0
"

test_2="
[header]
declare_i_arr arr abc@0
[/header]

get_i_arr_el@@1
get_i_arr_el arr@@1
get_i_arr_el arr 0 val@abc@0
get_i_arr_el arr 1 val@@0
get_i_arr_el arr 2 val@@0
get_i_arr_el arr 3 val@@0
get_i_arr_el arr 1 2 val@@1
get_i_arr_el arr a val@@1
get_i_arr_el arr 1 a val@@1
get_i_arr_el arr a 1 val@@1
get_i_arr_values arr val@abc@0
"

test_3="
[header]
declare_i_arr arr abc 123@0
[/header]

get_i_arr_el @@1
get_i_arr_el arr@@1
get_i_arr_el arr 0 val@abc@0
get_i_arr_el arr 1 val@123@0
get_i_arr_el arr 2 val@@0
get_i_arr_el arr 3 val@@0
get_i_arr_el arr 1 2 val@@1
get_i_arr_el arr a val@@1
get_i_arr_values arr val@abc 123@0
"

test_4="
[header]
declare_i_arr arr abc 123 a@0
[/header]

get_i_arr_el @@1
get_i_arr_el arr@@1
get_i_arr_el arr 0 val@abc@0
get_i_arr_el arr 1 val@123@0
get_i_arr_el arr 2 val@a@0
get_i_arr_el arr 3 val@@0
get_i_arr_el arr 1 2 val@@1
get_i_arr_el arr a val@@1
get_i_arr_values arr val@abc 123 a@0
"

test_5="
[header]
declare_i_arr arr abc 123 \"a bcd 123\"@0

declare_i_arr arr2 abc 123 \"a bcd 123\"@0
declare_i_arr arr2 def@0
[/header]

get_i_arr_el@@1
get_i_arr_el arr@@1
get_i_arr_el arr 0 val@abc@0
get_i_arr_el arr 1 val@123@0
get_i_arr_el arr 2 val@a bcd 123@0
get_i_arr_el arr 3 val@@0
get_i_arr_el arr 1 2 val@@1
get_i_arr_el arr a val@@1
get_i_arr_values arr val@abc 123 a bcd 123@0

get_i_arr_el arr2 val@@1
get_i_arr_el arr2 0 val@def@0
get_i_arr_el arr2 1 val@@0
get_i_arr_el arr2 2 val@@0
get_i_arr_el arr2 3 val@@0
get_i_arr_values arr2 val@def@0
"


test_6="
[header]
declare_i_arr arr abc 123 \"a bcd 123\" =@0
[/header]

get_i_arr_el @@1
get_i_arr_el arr@@1
get_i_arr_el arr 0 val@abc@0
get_i_arr_el arr 1 val@123@0
get_i_arr_el arr 2 val@a bcd 123@0
get_i_arr_el arr 3 val@=@0
get_i_arr_el arr 4 val@@0
get_i_arr_el arr 1 2 val@@1
get_i_arr_el arr a val@@1
get_i_arr_values arr val@abc 123 a bcd 123 =@0
"


test_7="
[header]
declare_i_arr arr abc= 123=1 =a@0
[/header]

get_i_arr_el @@1
get_i_arr_el arr@@1
get_i_arr_el arr 0 val@abc=@0
get_i_arr_el arr 1 val@123=1@0
get_i_arr_el arr 2 val@=a@0
get_i_arr_el arr 3 val@@0
get_i_arr_el arr 1 2 val@@1
get_i_arr_el arr a val@@1
get_i_arr_values arr val@abc= 123=1 =a@0
"


test_8="
[header]
declare_i_arr arr abc#= \"#123=1\" \"=a#\" \"#\" \"###\"@0
[/header]

get_i_arr_el arr 0 val@abc#=@0
get_i_arr_el arr 1 val@#123=1@0
get_i_arr_el arr 2 val@=a#@0
get_i_arr_el arr 3 val@#@0
get_i_arr_el arr 4 val@###@0
get_i_arr_el arr 5 val@@0
get_i_arr_values arr val@abc#= #123=1 =a# # ###@0
"


test_9="
[header]
add_i_arr_el@1
add_i_arr_el arr@1
[/header]

get_i_arr_values arr val@@0
get_i_arr_indices arr val@@0
"


test_10="
[header]
declare_i_arr arr1@0
add_i_arr_el arr1 a@0

declare_i_arr arr2 b@0
add_i_arr_el arr2 c@0

declare_i_arr arr3 10 20@0
add_i_arr_el arr3 30@0
add_i_arr_el arr3 0@0

add_i_arr_el arr4 abcd@0

add_i_arr_el arr5 1@0
add_i_arr_el arr5 \"ab cd ${newline} ef\"@0

add_i_arr_el arr6 1@0
declare_i_arr arr6 ddd@0

add_i_arr_el arr7 1@0
add_i_arr_el arr7 2@0
add_i_arr_el arr7 3@0
declare_i_arr arr7 ddd eee@0
[/header]

get_i_arr_values arr1 val@a@0
get_i_arr_indices arr1 val@0@0

get_i_arr_values arr2 val@b c@0
get_i_arr_indices arr2 val@0 1@0

get_i_arr_values arr3 val@10 20 30 0@0
get_i_arr_indices arr3 val@0 1 2 3@0

get_i_arr_values arr4 val@abcd@0
get_i_arr_indices arr4 val@0@0

get_i_arr_values arr5 val@1 ab cd ${newline} ef@0
get_i_arr_indices arr5 val@0 1@0

get_i_arr_values arr6 val@ddd@0
get_i_arr_indices arr6 val@0@0

get_i_arr_values arr7 val@ddd eee@0
get_i_arr_indices arr7 val@0 1@0
"


test_11="
[header]
add_i_arr_el arr1 c@0
set_i_arr_el arr1 3 b@0

add_i_arr_el arr2 c@0
set_i_arr_el arr2 3 b@0
add_i_arr_el arr2 a@0

add_i_arr_el arr3 c@0
set_i_arr_el arr3 3 b@0
add_i_arr_el arr3 a@0
set_i_arr_el arr3 4 d@0

set_i_arr_el arr4 3 b@0
add_i_arr_el arr4 c@0
add_i_arr_el arr4 a@0
set_i_arr_el arr4 4 d@0
add_i_arr_el arr4 e@0
[/header]

get_i_arr_values arr1 val@c b@0
get_i_arr_indices arr1 val@0 3@0

get_i_arr_values arr2 val@c b a@0
get_i_arr_indices arr2 val@0 3 4@0

get_i_arr_values arr3 val@c b d@0
get_i_arr_indices arr3 val@0 3 4@0

get_i_arr_values arr4 val@b d a e@0
get_i_arr_indices arr4 val@3 4 5 6@0
"

test_12="
[header]
declare_i_arr arr1 a b@0
add_i_arr_el arr1 c@0
set_i_arr_el arr1 3 d@0

declare_i_arr arr2 a b c@0
set_i_arr_el arr2 3 d@0
add_i_arr_el arr2 e@0

declare_i_arr arr3 a b c@0
set_i_arr_el arr3 4 d@0
add_i_arr_el arr3 e@0

declare_i_arr arr4 a b c@0
set_i_arr_el arr4 2 d@0
add_i_arr_el arr4 e@0

declare_i_arr arr5 a b c@0
set_i_arr_el arr5 1 d@0
add_i_arr_el arr5 e@0
[/header]

get_i_arr_values arr1 val@a b c d@0
get_i_arr_indices arr1 val@0 1 2 3@0

get_i_arr_values arr2 val@a b c d e@0
get_i_arr_indices arr2 val@0 1 2 3 4@0

get_i_arr_values arr3 val@a b c d e@0
get_i_arr_indices arr3 val@0 1 2 4 5@0
get_i_arr_el arr3 0 val@a@0
get_i_arr_el arr3 1 val@b@0
get_i_arr_el arr3 2 val@c@0
get_i_arr_el arr3 3 val@@0
get_i_arr_el arr3 4 val@d@0
get_i_arr_el arr3 5 val@e@0

get_i_arr_values arr4 val@a b d e@0
get_i_arr_indices arr4 val@0 1 2 3@0

get_i_arr_values arr5 val@a d c e@0
get_i_arr_indices arr5 val@0 1 2 3@0
"

