# Test sets use '@' as a column delimiter
# Header lines format: 'declare' or 'set' function tests
# 1st col: function call with input args, 2nd col: expected return code

# Further lines format is for 'get' function tests
# 1st col: 'get' function call with input args, 2nd col: expected value, 3rd col: expected return code

# this one is fairly chaotic but i tried to cover things that might be fragile


test_1="
[header]
declare_a_arr@1
declare_a_arr arr@0
[/header]

get_a_arr_el @@1
get_a_arr_el arr@@1
get_a_arr_el arr 0@@0
get_a_arr_el arr 1@@0
get_a_arr_el arr 2@@0
get_a_arr_el arr 1 2@@1
get_a_arr_el arr a@@0
get_a_arr_el arr 1 a@@1
get_a_arr_el arr a 1@@1
get_a_arr_all arr@@0
"

test_2="
[header]
declare_a_arr arr abc@1
declare_a_arr arr1 test=abc@0
[/header]

get_a_arr_el@@1

get_a_arr_el arr@@1
get_a_arr_el arr 0@@0
get_a_arr_el arr 1@@0
get_a_arr_all arr@@0
get_a_arr_all_keys arr@@0

get_a_arr_el arr1 0@@0
get_a_arr_el arr1 test@abc@0
get_a_arr_all arr1@abc@0
get_a_arr_all_keys arr1@test@0
"

test_3="
[header]
declare_a_arr arr 0=abc 1=123@0
[/header]

get_a_arr_el @@1
get_a_arr_el arr@@1
get_a_arr_el arr 0@abc@0
get_a_arr_el arr 1@123@0
get_a_arr_el arr 2@@0
get_a_arr_el arr a@@0
get_a_arr_all arr@abc${newline}123@0
get_a_arr_all_keys arr@0${newline}1@0
"

test_4="
[header]
declare_a_arr arr Test=abc test=123 _test=456 test_=789 t_est=a@0
[/header]

get_a_arr_el arr Test@abc@0
get_a_arr_el arr test@123@0
get_a_arr_el arr _test@456@0
get_a_arr_el arr test_@789@0
get_a_arr_el arr t_est@a@0
get_a_arr_el arr t@@0
get_a_arr_el arr T@@0
get_a_arr_el arr a@@0
get_a_arr_all arr@abc${newline}456${newline}a${newline}123${newline}789@0
get_a_arr_all_keys arr@Test${newline}_test${newline}t_est${newline}test${newline}test_@0
"

test_5="
[header]
declare_a_arr arr test1=abc test2=123 test3=\"a bcd 123\"@0

declare_a_arr arr2 test4=abc test5=123 test6=\"a bcd 123\"@0
declare_a_arr arr2 test7=def@0
[/header]

get_a_arr_el arr test1@abc@0
get_a_arr_el arr test2@123@0
get_a_arr_el arr test3@a bcd 123@0
get_a_arr_el arr test4@@0
get_a_arr_el arr a@@0
get_a_arr_all arr@abc${newline}123${newline}a bcd 123@0
get_a_arr_all_keys arr@test1${newline}test2${newline}test3@0

get_a_arr_el arr2@@1
get_a_arr_el arr2 test7@def@0
get_a_arr_el arr2 test1@@0
get_a_arr_el arr2 test3@@0
get_a_arr_el arr2 test4@@0
get_a_arr_el arr2 test5@@0
get_a_arr_el arr2 test6@@0
get_a_arr_all arr2@def@0
get_a_arr_all_keys arr2@test7@0
"


test_6="
[header]
declare_a_arr arr _=abc __=123 ___=\"a bcd 123\" ____=\"=\"@0
[/header]

get_a_arr_el arr _@abc@0
get_a_arr_el arr __@123@0
get_a_arr_el arr ___@a bcd 123@0
get_a_arr_el arr ____@=@0
get_a_arr_el arr _____@@0
get_a_arr_all arr@abc${newline}123${newline}a bcd 123${newline}=@0
get_a_arr_all_keys arr@_${newline}__${newline}___${newline}____@0
"


test_7="
[header]
declare_a_arr arr 0=abc= 1=123=1 2==a@0
[/header]

get_a_arr_el arr 0@abc=@0
get_a_arr_el arr 1@123=1@0
get_a_arr_el arr 2@=a@0
get_a_arr_el arr 3@@0
get_a_arr_el arr 123@@0
get_a_arr_el arr abc@@0
get_a_arr_all arr@abc=${newline}123=1${newline}=a@0
"


test_8="
[header]
declare_a_arr arr 0=abc#= 1=\"#123=1\" 2=\"=a#\" 3=\"#\" 4=\"###\"@0
[/header]

get_a_arr_el arr 0@abc#=@0
get_a_arr_el arr 1@#123=1@0
get_a_arr_el arr 2@=a#@0
get_a_arr_el arr 3@#@0
get_a_arr_el arr 4@###@0
get_a_arr_el arr abc#@@1
get_a_arr_el arr #123@@1
get_a_arr_el arr a#@@1
get_a_arr_el arr =a#@@1
get_a_arr_el arr #@@1
get_a_arr_all arr@abc#=${newline}#123=1${newline}=a#${newline}#${newline}###@0
get_a_arr_all_keys arr@0${newline}1${newline}2${newline}3${newline}4@0
"


test_9="
[header]
declare_a_arr arr 0=abc 1=abcd 2=\"abc def\"@0
clean_a_arr arr@0
[/header]

get_a_arr_all arr@@0
get_a_arr_all_keys arr@@0
"