# Test sets use '@' as a column delimiter
# Header lines format: 'declare' or 'set' function tests
# 1st col: function call with input args, 2nd col: expected return code

# Further lines format is for 'get' function tests
# 1st col: 'get' function call with input args, 2nd col: expected value, 3rd col: expected return code

# this one is fairly chaotic but i tried to cover things that might be fragile


test_1="
[header]
declare_a_arr@1
declare_a_arr arr@0
[/header]

get_a_arr_val @@1
get_a_arr_val arr@@1
get_a_arr_val arr 0 val@@0
get_a_arr_val arr 1 val@@0
get_a_arr_val arr 2 val@@0
get_a_arr_val arr 1 2 val@@1
get_a_arr_val arr a val@@0
get_a_arr_val arr 1 a val@@1
get_a_arr_val arr a 1 val@@1
get_a_arr_values arr@@1
get_a_arr_values arr val@@0
"

test_2="
[header]
declare_a_arr arr abc@1
declare_a_arr arr1 test=abc@0
[/header]

get_a_arr_val@@1

get_a_arr_val arr@@1
get_a_arr_val arr 0 val@@0
get_a_arr_val arr 1 val@@0
get_a_arr_values arr val@@0
get_a_arr_keys arr val@@0

get_a_arr_val arr1 0 val@@0
get_a_arr_val arr1 test val@abc@0
get_a_arr_values arr1 val@abc@0
get_a_arr_keys arr1 val@test@0
"

test_3="
[header]
declare_a_arr arr 0=abc 1=123@0
[/header]

get_a_arr_val @@1
get_a_arr_val arr@@1
get_a_arr_val arr 0 val@abc@0
get_a_arr_val arr 1 val@123@0
get_a_arr_val arr 2 val@@0
get_a_arr_val arr a val@@0
get_a_arr_values arr val@abc 123@0
get_a_arr_keys arr val@0 1@0
"

test_4="
[header]
declare_a_arr arr Test=abc test=123 _test=456 test_=789 t_est=a@0
[/header]

get_a_arr_val arr Test val@abc@0
get_a_arr_val arr test val@123@0
get_a_arr_val arr _test val@456@0
get_a_arr_val arr test_ val@789@0
get_a_arr_val arr t_est val@a@0
get_a_arr_val arr t val@@0
get_a_arr_val arr T val@@0
get_a_arr_val arr a val@@0
get_a_arr_values arr val@abc 456 a 123 789@0
get_a_arr_keys arr val@Test _test t_est test test_@0
"

test_5="
[header]
declare_a_arr arr test1=abc test2=123 test3=\"a bcd 123\"@0

declare_a_arr arr2 test4=abc test5=123 test6=\"a bcd 123\"@0
declare_a_arr arr2 test7=def@0
[/header]

get_a_arr_val arr test1 val@abc@0
get_a_arr_val arr test2 val@123@0
get_a_arr_val arr test3 val@a bcd 123@0
get_a_arr_val arr test4 val@@0
get_a_arr_val arr a val@@0
get_a_arr_values arr val@abc 123 a bcd 123@0
get_a_arr_keys arr val@test1 test2 test3@0

get_a_arr_val arr2 val@@1
get_a_arr_val arr2 test7 val@def@0
get_a_arr_val arr2 test1 val@@0
get_a_arr_val arr2 test3 val@@0
get_a_arr_val arr2 test4 val@@0
get_a_arr_val arr2 test5 val@@0
get_a_arr_val arr2 test6 val@@0
get_a_arr_values arr2 val@def@0
get_a_arr_keys arr2 val@test7@0
"


test_6="
[header]
declare_a_arr arr _=abc __=123 ___=\"a bcd 123\" ____=\"=\"@0
[/header]

get_a_arr_val arr _ val@abc@0
get_a_arr_val arr __ val@123@0
get_a_arr_val arr ___ val@a bcd 123@0
get_a_arr_val arr ____ val@=@0
get_a_arr_val arr _____ val@@0
get_a_arr_values arr val@abc 123 a bcd 123 =@0
get_a_arr_keys arr val@_ __ ___ ____@0
"


test_7="
[header]
declare_a_arr arr 0=abc= 1=123=1 2==a@0
[/header]

get_a_arr_val arr 0 val@abc=@0
get_a_arr_val arr 1 val@123=1@0
get_a_arr_val arr 2 val@=a@0
get_a_arr_val arr 3 val@@0
get_a_arr_val arr 123 val@@0
get_a_arr_val arr abc val@@0
get_a_arr_values arr val@abc= 123=1 =a@0
"


test_8="
[header]
declare_a_arr arr 0=abc#= 1=\"#123=1\" 2=\"=a#\" 3=\"#\" 4=\"###\"@0
[/header]

get_a_arr_val arr 0 val@abc#=@0
get_a_arr_val arr 1 val@#123=1@0
get_a_arr_val arr 2 val@=a#@0
get_a_arr_val arr 3 val@#@0
get_a_arr_val arr 4 val@###@0
get_a_arr_val arr abc# val@@1
get_a_arr_val arr #123 val@@1
get_a_arr_val arr a# val@@1
get_a_arr_val arr =a# val@@1
get_a_arr_val arr # val@@1
get_a_arr_values arr val@abc#= #123=1 =a# # ###@0
get_a_arr_keys arr val@0 1 2 3 4@0
"


test_9="
[header]
declare_a_arr arr 0=abc 1=abcd 2=\"abc def\"@0
unset_a_arr arr@0
[/header]

get_a_arr_values arr val@@0
get_a_arr_keys arr val@@0
"